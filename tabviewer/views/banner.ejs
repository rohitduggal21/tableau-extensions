<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Banner</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/css/splide.min.css">
    
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    
    <!-- Extensions Library (this will be hosted on a CDN eventually) -->
    <script src="./tableau.extensions.1.latest.js"></script>
    
    <!-- Our extension's code -->
    <script src="./js/banner.js"></script>
  
  </head>
<body>

  <div class="justify-content-center align-items-center text-center" style="width:100%;">

    <img id='load' class="pt-1" src="./img/spinner.gif" height="75" style="margin-left:auto;">
    <img id='error' class="d-none" src="./img/error.png" style="margin-left:auto;padding-top:20px;">

    <section id='splide' class="splide d-none" aria-label="Splide Basic HTML Example">
      <div class="splide__track">
        <ul class="splide__list">
          <% for(var i=0; i < data.length; i++) { %>
            <li class="splide__slide bg-secondary text-center pt-2" style='border-left: 1px solid white;border-right: 1px solid white;'>
              <span style='color:white;'>
                <b><%= data[i].symbol %></b>
              </span>
              <br>
              <span style='color:white;'>
                <%= data[i].percentage %>%
              </span>
              <% if (data[i].sign == 'P') { %>
                <img src="./img/increase.png" height="20">
              <%} else { %>
                <img src="./img/decrease.png" height="20">
              <% } %>
            </li>
          <% } %>
        </ul>
      </div>
    </section>
    
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/js/splide.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@splidejs/splide-extension-auto-scroll@0.5.3/dist/js/splide-extension-auto-scroll.min.js"></script>
  <script>
    <% if (data.length == 0) { %>
      document.getElementById('load').classList.add("d-none");
      document.getElementById('error').classList.remove("d-none");
    <%} else { %>
      document.getElementById('load').classList.add("d-none");
      document.getElementById('splide').classList.remove("d-none");
    <% } %>
  </script>
</body>
</html>